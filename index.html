<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Palm Civet">
<meta property="og:url" content="https://palmcivet.github.io/index.html">
<meta property="og:site_name" content="Palm Civet">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Palm Civet">






  <link rel="canonical" href="https://palmcivet.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Palm Civet</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Palm Civet</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/03/Front/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/Front/" class="post-title-link" itemprop="url">Hello World</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-09 20:01:09" itemprop="dateCreated datePublished" datetime="2019-03-09T20:01:09+08:00">2019-03-09</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/03/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-08 22:16:07" itemprop="dateCreated datePublished" datetime="2019-03-08T22:16:07+08:00">2019-03-08</time>
            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/内存攻防研究/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/内存攻防研究/" class="post-title-link" itemprop="url">内存攻防研究</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:21" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:21+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-09 11:56:02" itemprop="dateModified" datetime="2019-03-09T11:56:02+08:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Code-文章分类/" itemprop="url" rel="index"><span itemprop="name">Code        //文章分类</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="内存攻防"><a href="#内存攻防" class="headerlink" title="内存攻防"></a>内存攻防</h2><p>攻击者利用软件安全漏洞，构造 <strong>恶意输入</strong> 导致软件在处理数据时出现非预期的错误，将输入数据写入内存中的某些特定敏感位置，从而 <strong>劫持软件控制流</strong>，转而执行外部输入的指令代码，造成目标系统被获取远程控制或拒绝服务</p>
<h2 id="客户端攻击"><a href="#客户端攻击" class="headerlink" title="客户端攻击"></a>客户端攻击</h2><p>客户端渗透攻击（Client-side Exploit）是攻击者构造畸形数据发送给目标主机，客户端应用程序处理数据时发生内部错误，执行了内嵌于数据中的代码，从而导致被渗透</p>
<h2 id="攻防博弈"><a href="#攻防博弈" class="headerlink" title="攻防博弈"></a>攻防博弈</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">基础攻击     ----&gt;  GS cookie</span><br><span class="line">SEH 利用    ----&gt;   SafeSEH</span><br><span class="line">PPR         ---&gt;   SEHOP</span><br><span class="line">伪造 SEH    ---&gt;    ASLR</span><br><span class="line">堆喷射       ---&gt;   DEP</span><br><span class="line">ROP         ---&gt;   DEP+ASLR</span><br><span class="line">JIT Spray</span><br></pre></td></tr></table></figure>
<h1 id="漏洞原理"><a href="#漏洞原理" class="headerlink" title="漏洞原理"></a>漏洞原理</h1><h2 id="缓冲区溢出"><a href="#缓冲区溢出" class="headerlink" title="缓冲区溢出"></a>缓冲区溢出</h2><blockquote>
<p>Buffer Overflow</p>
</blockquote>
<p>缓冲区是一块可用于接收和存放数据的存储区域，每个进程都有一组缓冲区，在进程内存的 <code>.data</code>、<code>.bss</code> 节区分配内存可以使缓冲区保持连接</p>
<p>缓冲区溢出漏洞是程序由于缺乏对缓冲区的边界条件检查而引起的一种异常行为。通常是向缓冲区写入数据时内容超过边界，从而覆盖相邻的内存区域</p>
<p>根据缓冲区溢出内存位置的不同，又可分为 <strong>栈溢出</strong> 和 <strong>堆溢出</strong></p>
<h3 id="栈溢出"><a href="#栈溢出" class="headerlink" title="栈溢出"></a>栈溢出</h3><blockquote>
<p>Stack Overflow</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> arvc,<span class="keyword">char</span> * argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">7</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(a,argv[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>攻击方式：</p>
<ol>
<li>覆盖缓冲区附近的程序变量</li>
<li>覆盖栈中保存的函数返回地址</li>
<li>覆盖某个函数指针或异常处理结构</li>
</ol>
<h4 id="漏洞攻击组件"><a href="#漏洞攻击组件" class="headerlink" title="漏洞攻击组件"></a>漏洞攻击组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.text | .data | .bss | 堆 |--&gt; 未使用 &lt;--|   栈帧               | 环境/参数</span><br><span class="line">低位 &lt;--------------------- 缓冲区 ------ | ESP | EBP | EIP | &lt;------- 高位</span><br><span class="line">                    | NOP sled |    shellcode     | 重复地址 |</span><br></pre></td></tr></table></figure>
<ol>
<li>NOP 雪橇<blockquote>
<p>NOP，No Operation，空指令</p>
<ul>
<li>Intel x86 架构操作码是 <code>0x90</code></li>
<li>NOP 雪橇（NOP sled）是一串放在漏洞攻击缓冲区前的空指令</li>
</ul>
</blockquote>
</li>
<li>shellcode：攻击载荷</li>
<li>重复地址<br> 填充缓冲区直至覆盖 EIP，使其指向 NOP 雪橇区中部或 shellcode 开始处</li>
</ol>
<h4 id="小缓冲区漏洞攻击"><a href="#小缓冲区漏洞攻击" class="headerlink" title="小缓冲区漏洞攻击"></a>小缓冲区漏洞攻击</h4><p>将 shellcode 放在 <strong>环境变量节</strong><br><em>Linux</em> ELF 文件在映射到内存中时会将最后相对地址设为 <code>0xBFFFFFFF</code>，环境变量和参数存储在该区域<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    栈 | 环境变量/参数 | shellcode | 程序名称 | 4 个空字节</span><br><span class="line">    |                  |           |                |</span><br><span class="line">0x11111111           code     0xbffffffa      0xbfffffff</span><br></pre></td></tr></table></figure></p>
<h4 id="覆盖异常处理结构"><a href="#覆盖异常处理结构" class="headerlink" title="覆盖异常处理结构"></a>覆盖异常处理结构</h4><p>Windows 提供 SEH（Structured Exception Handling，结构化异常处理），可利用程序自定义的异常处理函数或操作系统默认的函数处理异常</p>
<p>异常处理结构以链表形式存储在栈中，头指针存放在 <em>TIB</em> 的第一个成员中，<em>x86</em> 对应存储在寄存器 <em>FS</em>，结构体有两个 DWORD 类型的变量：</p>
<ol>
<li>指向下一个异常处理结构体的指针</li>
<li>异常处理函数 SEH 的地址</li>
</ol>
<p>异常处理结构更接近栈底，利用更加方便，可绕过栈保护机制</p>
<h3 id="堆溢出"><a href="#堆溢出" class="headerlink" title="堆溢出"></a>堆溢出</h3><blockquote>
<p>Heap Overflow</p>
</blockquote>
<p>堆是程序运行时动态分配的内存，堆操作有分配、释放、合并三种，位置不固定，大小自由</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Size | Previous Size | SmallTag Index | Flags | Unused Bytes | Segment Index</span><br><span class="line">   Previous Block    | Next Block</span><br><span class="line">                    Data</span><br></pre></td></tr></table></figure>
<p>Previous Block 和 Next Block 分别指向双向链表中此块的前后空闲堆块的数据部分</p>
<p>arbitrary DWORD reset 攻击</p>
<h2 id="堆喷射"><a href="#堆喷射" class="headerlink" title="堆喷射"></a>堆喷射</h2><blockquote>
<p>Heap Spraying</p>
</blockquote>
<p>常见于浏览器<br>将空指令滑行区与 Shellcode 组合，重复填充到堆中，直到填满一大块内存空间</p>
<h2 id="格式化字符串漏洞"><a href="#格式化字符串漏洞" class="headerlink" title="格式化字符串漏洞"></a>格式化字符串漏洞</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    返回地址 | 格式化字符串地址 | 变量</span><br><span class="line">低地址 &lt;----- 函数内部指针 &lt;---- 高地址</span><br></pre></td></tr></table></figure>
<p>函数运行时遇到 <code>%</code>，就从栈顶抓取输入值<br>字符 <code>\</code> 会由编译器处理并用于将其后的字符转义，但遇到 <code>\x</code>，则会认为后面是一个数字</p>
<h3 id="读取内存"><a href="#读取内存" class="headerlink" title="读取内存"></a>读取内存</h3><ol>
<li><code>%x</code> 映射栈<br> 格式化字符串存储于栈上，不断增加 <code>%x</code> 的数目找到格式化字符串</li>
<li><code>%s</code> 读取任意字符串</li>
<li>用直接参数访问简化内存读取</li>
</ol>
<h3 id="写入内存"><a href="#写入内存" class="headerlink" title="写入内存"></a>写入内存</h3><ul>
<li>HOB 高位字节</li>
<li>LOB 低位字节</li>
</ul>
<p>魔术公式，按照顺序构造字符串：<br>| HOB &lt; LOB        | HOB &gt; LOB        | 备注             | 示例                     |<br>| —————- | —————- | —————- | ———————— |<br>| <code>[addr+2][addr]</code> | <code>[addr][addr+2]</code> |                  |                          |<br>| <code>%.[HOB-8]x</code>     | <code>%.[LOB-8]x</code>     | 数值用十进制表示 | %.49143x = oxbfff-8      |<br>| <code>%[offset]$hn</code>   | <code>%[offset+1]$hn</code> |                  | %4\$hn                   |<br>| <code>%.[LOB-HOB]</code>    | <code>%.[HOB-LOB]</code>    | 数值用十进制表示 | %.16209x = 0xff50-0xbfff |<br>| <code>%[offset+1]$hn</code> | <code>[offset]%hn</code>    |                  | %5\$hn                   |</p>
<h1 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h1><h2 id="维持调用权限"><a href="#维持调用权限" class="headerlink" title="维持调用权限"></a>维持调用权限</h2><p>某些发行版打开 <em>bash</em> 时会降低权限，则用 <code>execl()</code> 包装 <code>system()</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">溢出 | &amp;printf | &amp;execl | &amp;&quot;%3h\$n&quot; | &amp;&quot;./code&quot; | &amp;&quot;./code&quot;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// code</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    setuid(<span class="number">0</span>);</span><br><span class="line">    setgid(<span class="number">0</span>);</span><br><span class="line">    system(<span class="string">"/bin/bash"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// packaging</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    execl(<span class="string">"./code"</span>, <span class="string">"./code"</span>, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>攻击字符串最后一位时 <code>NULL</code>，因此可直接传入以代替 <code>printf()</code></p>
<h1 id="攻防研究"><a href="#攻防研究" class="headerlink" title="攻防研究"></a>攻防研究</h1><h2 id="Libsafe-库"><a href="#Libsafe-库" class="headerlink" title="Libsafe 库"></a>Libsafe 库</h2><p>是一个 <strong>动态库</strong>，重写危险的 Libc 函数，避免了大多数基于栈的攻击</p>
<h2 id="StackShield"><a href="#StackShield" class="headerlink" title="StackShield"></a>StackShield</h2><p><strong>编译器</strong>，<em>GCC</em> 的替代品，可以在编译时捕获不安全的操作</p>
<h2 id="SSP"><a href="#SSP" class="headerlink" title="SSP"></a>SSP</h2><blockquote>
<p>Stack Smashing Protection，栈破坏保护，以前称为 ProPolice</p>
</blockquote>
<ul>
<li>通过将栈变量重新排布，改进了 StackGuard 基于检测仪的保护机制，还提供了函数开场白和收场白</li>
<li>GCC 从 4.1 开始，加入 SSP，编译时加 <code>-fno-stack-protector</code> 选项可禁用栈保护</li>
</ul>
<h2 id="基于栈的缓冲区溢出检测"><a href="#基于栈的缓冲区溢出检测" class="headerlink" title="基于栈的缓冲区溢出检测"></a>基于栈的缓冲区溢出检测</h2><ol>
<li><code>/GS</code> 编译选项：是微软的堆栈检测仪（Stack Canary）概念的具体体现<ul>
<li>从 Visual Studio 2003 开始引入，XP SP2 开始全面支持</li>
<li>将一个随机生成的 cookie 放在 <em>EBP</em> 和 <em>RETN</em> 上方，函数返回时校验该值，并有新的函数开场白</li>
</ul>
</li>
<li><em>StackGuard</em>： 在栈缓冲区与栈帧状态值之间放置检测仪</li>
</ol>
<h3 id="覆盖调用函数指针"><a href="#覆盖调用函数指针" class="headerlink" title="覆盖调用函数指针"></a>覆盖调用函数指针</h3><p>利用过早被删除的 C++ 类的实例化对象，存在悬空指针的 Bug</p>
<h3 id="替换-cookie"><a href="#替换-cookie" class="headerlink" title="替换 cookie"></a>替换 cookie</h3><p>cookie 存放在内存的 <code>.data</code> 段，由于需要在运行时计算并写入，因此可写。如果拥有写人以内存的权限即可重写该值</p>
<h3 id="覆盖-SEH-记录"><a href="#覆盖-SEH-记录" class="headerlink" title="覆盖 SEH 记录"></a>覆盖 SEH 记录</h3><p><code>/GS</code> 保护机制没有保护保存在栈上的 SEH 结构，如果能够写入足够的数据覆盖 SEH 记录，并在函数收场白和 cookie 检查之前触发异常，就可以控制程序流程</p>
<h2 id="SafeSEH"><a href="#SafeSEH" class="headerlink" title="SafeSEH"></a>SafeSEH</h2><blockquote>
<p>Safe Exception Handling，安全结构化异常处理</p>
</blockquote>
<ul>
<li>这一机制是防止覆盖和使用存储栈上的 <em>SEH</em> 结构</li>
<li>具体实现在微软的 <code>/SafeSEH</code> 编译选项。</li>
<li>当触发异常时，操作系统会在栈上放置<em>_except_handler</em> 函数来处理，采用句柄验证技术<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EXCEPTION_DISPOSITION __cdecl_except_handler(</span><br><span class="line">    struct _EXCEPTION_RECORD *_ExceptionRecord,</span><br><span class="line">    <span class="keyword">void</span> * _EstablisherFrame,</span><br><span class="line">    struct _CONTENT *_ContentRecord,</span><br><span class="line">    <span class="keyword">void</span> * _DispatcherContext</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">栈 | RET | _ExceptionRecord | _EstablisherFrame | _ContentRecord | _DispatcherContext | </span><br><span class="line">     ESP                      ESP+8</span><br></pre></td></tr></table></figure>
<h3 id="利用未启用的模块"><a href="#利用未启用的模块" class="headerlink" title="利用未启用的模块"></a>利用未启用的模块</h3><p>利用进程中未启用的 SEH 模块，将修改后的 SEH 例程指针指向模块中的 POP/POP/RTEN（P/P/R）指令代码块，跳回到栈上执行 shellcode</p>
<h2 id="SEHOP"><a href="#SEHOP" class="headerlink" title="SEHOP"></a>SEHOP</h2><blockquote>
<p>SEH Overwrite Protection，SEH 覆盖保护</p>
</blockquote>
<p>Windows Server 2008 中增加的机制，由 <em>RtlDispatchException</em> 例程实现，会 <strong>遍历</strong> 异常处理程序链表，并确认能够到达 <em>ntdll.dll</em> 中的 <em>FinalExceptionHandler</em> 函数</p>
<h3 id="进一步伪造-SEH-链表"><a href="#进一步伪造-SEH-链表" class="headerlink" title="进一步伪造 SEH 链表"></a>进一步伪造 SEH 链表</h3><p>重新构造一个以实际系统默认异常处理程序（<em>ntdll!FinalExceptionHandler</em>）结尾的 SEH 链表<br>这种攻击只在有限条件下才能奏效：</p>
<ol>
<li>具有 <strong>本地</strong> 系统访问权限</li>
<li>存在可以使用 <strong>空字节</strong> 的 <code>memcpy</code> 类型的漏洞</li>
<li>被控制的栈内存地址的第3个字节在 <code>0x80</code> 和 <code>0xFB</code> 之间</li>
<li>能找到一个没有受到 <em>SafeSE</em> 保护的模块，且其包含以下指令序列：<ol>
<li>XOR</li>
<li>POP</li>
<li>POP</li>
<li>RETN</li>
</ol>
</li>
</ol>
<h2 id="ASLR"><a href="#ASLR" class="headerlink" title="ASLR"></a>ASLR</h2><blockquote>
<p>Address Space Layout Randomization，地址空间布局随机化</p>
</blockquote>
<p>将下面内存对象随机化：</p>
<ul>
<li>可执行映像</li>
<li>库映像</li>
<li><code>Brk()</code> 管理的堆</li>
<li><code>Mmap()</code> 管理的堆</li>
<li>用户栈</li>
<li>内核栈</li>
</ul>
<p>Windows 在 Vista 及后续操作系统正式引入 ASLR，不同平台熵值不同：</p>
<ul>
<li>Win7 的 <strong>PEB/TEB</strong> 和 <strong>堆</strong> 较低</li>
<li>Win8 引入了强制高熵值 ASLR</li>
</ul>
<p>将程序编译成 PIE（位置无关可执行文件），是一种内存攻击 <strong>缓解</strong> 技术，增加了漏洞利用的难度，并不能解决漏洞，仍具有局限性：</p>
<ul>
<li>不能报告或追踪漏洞</li>
<li>不能对编译时未开启 ASLR 的二进制文件提供保护</li>
<li>不能避免被绕过</li>
</ul>
<h3 id="利用泄露的内存地址信息"><a href="#利用泄露的内存地址信息" class="headerlink" title="利用泄露的内存地址信息"></a>利用泄露的内存地址信息</h3><p>若已加载模块某个已知对象地址被获知，便可以计算出重定位的加载基址，动态生成 ROP 链</p>
<h3 id="返回到未链接-ASLR-的模块"><a href="#返回到未链接-ASLR-的模块" class="headerlink" title="返回到未链接 ASLR 的模块"></a>返回到未链接 ASLR 的模块</h3><p>使用不受 ASLR 保护的代码</p>
<h3 id="堆喷射-1"><a href="#堆喷射-1" class="headerlink" title="堆喷射"></a>堆喷射</h3><p>使用脚本语言在堆上布置大量含有 shellcode 的代码块，增加某一内存地址位于指令块的几率</p>
<h3 id="侧信道攻击"><a href="#侧信道攻击" class="headerlink" title="侧信道攻击"></a>侧信道攻击</h3><h3 id="禁用-ASLR"><a href="#禁用-ASLR" class="headerlink" title="禁用 ASLR"></a>禁用 ASLR</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Debian / Ubuntu</span><br><span class="line"><span class="built_in">echo</span> <span class="number">0</span> &gt; /proc/sys/kernel/randomize_va_space</span><br><span class="line"></span><br><span class="line"># Red Hat</span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span> &gt; /proc/sys/kernel/exec-shield</span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span> &gt; /proc/sys/kernel/exec-shield-randomize</span><br></pre></td></tr></table></figure>
<h2 id="DEP"><a href="#DEP" class="headerlink" title="DEP"></a>DEP</h2><blockquote>
<p>Data Execution Protection，数据执行保护</p>
</blockquote>
<p>将程序数据段所在的内存页的属性设置为 <strong>不可执行</strong></p>
<ol>
<li>AMD：No-Excute Page-Protection（NX）</li>
<li>Intel：Execute Disabled Bit（XD）</li>
</ol>
<ul>
<li>软件 DEP（SafeSEHR）：XP SP2 提出，Vista 开始全面支持</li>
<li>Page-eXec（Pax）：通过改变内存分页的方式对内存的堆和栈区域提供控制<blockquote>
<p>通常 <em>页表项</em>（PTE）用于跟踪内存页和缓存机制（称为 <em>数据和指令旁会路转换缓冲器</em>，TLB），TLB 存储着最近访问的内存页的信息，当访问内存时会先检查这里，若缓存缺失则使用 PTE 来查找并访问内存页，Pax 补丁为 TLB 实现了一组状态表，并指示内存页权限</p>
</blockquote>
</li>
<li>不可执行栈<ul>
<li>基于 GCC，使用 ELF 标记 GNU_STACK</li>
<li>可用 <code>-z execstack</code> 禁用</li>
</ul>
</li>
</ul>
<h3 id="Return-to-libc"><a href="#Return-to-libc" class="headerlink" title="Return to libc"></a>Return to libc</h3><p>使用受控制的 <em>EIP</em> 将执行控制权返回到现有的 <em>glibc</em> 库的函数而不是 shellcode<br>串联已经加载的系统库函数中以 RETN 结尾的代码块（gadget）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">缓冲区 | system()地址 | 填充物 |&quot;bin/bash&quot;地址 |</span><br><span class="line">        |              |</span><br><span class="line">--&lt;---- 当前 EIP &lt;---- 下一个 EIP &lt;-----------</span><br></pre></td></tr></table></figure>
<ol>
<li>将缓冲区溢出，用 <em>glibc</em> 的 <code>system()</code> 地址准确填写 <em>EIP</em>，<code>main()</code> 函数返回时将执行 <code>system()</code></li>
<li><code>system()</code> 参数在 <em>EIP</em> 右侧</li>
</ol>
<h3 id="VirtualProtect"><a href="#VirtualProtect" class="headerlink" title="VirtualProtect"></a>VirtualProtect</h3><p>某个进程要执行在堆或栈中的代码，可以使用 <em>MSVCR71.dll</em> <code>VirtualAlloc</code> 或 <code>VirtualProtect</code> 来分配内存并标记为可执行</p>
<h3 id="ROP"><a href="#ROP" class="headerlink" title="ROP"></a>ROP</h3><blockquote>
<p>Return-Oriented Programming，返回导向编程</p>
</blockquote>
<ul>
<li>Return to libc 技术的继任者，利用进程中系统库函数以外安全防护较低的 <strong>第三方模块</strong> 中的 gadget</li>
<li>由运行时载入的多个指令片段（gadget）组成，用 <strong>可执行的指令</strong> 以代替原本写入的不可执行的代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!mono rop -m &lt;msvcr71.dll&gt; -cp nonull</span><br></pre></td></tr></table></figure>
<p>使用 <em>Mona PyCommand</em> 插件可找出针对给定模块的推荐指令片段：</p>
<ol>
<li><code>rop_chains.txt</code>：绕过 DEP 的半成品</li>
<li><code>rop.txt</code>：包含漏洞开发攻击程序</li>
<li><code>stackivot.txt</code>：包含堆栈交换指令</li>
</ol>
<h2 id="DEP-ASLR"><a href="#DEP-ASLR" class="headerlink" title="DEP+ASLR"></a>DEP+ASLR</h2><p>Windows 7 开始启用</p>
<h3 id="JIT-Spray"><a href="#JIT-Spray" class="headerlink" title="JIT Spray"></a>JIT Spray</h3><p>利用支持 JIT（Just in Time）编译的脚本解释器，在脚本中部署大量 XOR 指令，即时编译之后将在内存中放置大量可执行机器码<br>大量 XOR 操作的机器码具有可预见性，可以劫持并且绕过 ASLR</p>
<h2 id="EMET"><a href="#EMET" class="headerlink" title="EMET"></a>EMET</h2><blockquote>
<p>Enhanced Mitigation Experience Toolkit，增强缓解体验工具包，微软提供的用于缓解攻击危害</p>
</blockquote>
<h2 id="堆保护"><a href="#堆保护" class="headerlink" title="堆保护"></a>堆保护</h2><ul>
<li>Safe unlinking：安全移除，移除前检查向前向后的指针是否指向相同的块</li>
<li>Heap metadata cookie：堆元数据 cookie，块首部存储一字节的 cookie，移除前检查该值</li>
</ul>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ol>
<li>《灰帽黑客 正义黑客的道德规范、渗透测试、攻击方法和漏洞分析技术》（第4版）</li>
<li>《Metasploit 渗透测试魔鬼训练营》</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/进程管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/进程管理/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:19" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:19+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="进程调度"><a href="#进程调度" class="headerlink" title="进程调度"></a>进程调度</h2><ul>
<li>查看停止进程<blockquote>
<p><code>jobs</code> 命令</p>
</blockquote>
</li>
<li>挂起进程<blockquote>
<p><code>Ctrl+Z</code> 快捷键</p>
</blockquote>
</li>
<li>恢复进程<blockquote>
<p><code>fg</code> 命令</p>
</blockquote>
</li>
<li>后台启动<blockquote>
<p><code>bg</code> 快捷键<br>命令行添加 <code>&amp;</code></p>
</blockquote>
</li>
</ul>
<h2 id="ps-lt-选项-gt"><a href="#ps-lt-选项-gt" class="headerlink" title="ps &lt;选项&gt;"></a><code>ps &lt;选项&gt;</code></h2><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-A</code></td>
<td>显示所有进程</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>显示同一终端下的所有程序</td>
</tr>
<tr>
<td><code>a</code></td>
<td>显示所有 tty，包括其他用户</td>
</tr>
<tr>
<td><code>-c</code></td>
<td>显示进程的真实名称</td>
</tr>
<tr>
<td><code>-e</code></td>
<td>等于 <code>-A</code></td>
</tr>
<tr>
<td><code>-N</code></td>
<td>反向选择</td>
</tr>
<tr>
<td><code>-H</code></td>
<td>显示 <strong>树状结构</strong></td>
</tr>
<tr>
<td><code>T</code></td>
<td>显示当前终端的所有程序</td>
</tr>
<tr>
<td><code>r</code></td>
<td>显示当前终端的进程</td>
</tr>
<tr>
<td><code>u</code></td>
<td>指定用户的所有进程</td>
</tr>
<tr>
<td><code>-C &lt;命令&gt;</code></td>
<td>列出指定命令的状况</td>
</tr>
<tr>
<td><code>-g &lt;组名&gt;</code></td>
<td>按组名</td>
</tr>
<tr>
<td><code>-p &lt;进程 PID&gt;</code></td>
<td>按进程</td>
</tr>
<tr>
<td><code>-s &lt;会话 ID&gt;</code></td>
<td>按会话</td>
</tr>
<tr>
<td><code>-l/l</code></td>
<td>详细模式</td>
</tr>
</tbody>
</table>
<h2 id="top-lt-选项-gt"><a href="#top-lt-选项-gt" class="headerlink" title="top &lt;选项&gt;"></a><code>top &lt;选项&gt;</code></h2><h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-b</code></td>
<td>批处理</td>
</tr>
<tr>
<td><code>-c</code></td>
<td>显示完整的命令</td>
</tr>
<tr>
<td><code>-I</code></td>
<td>忽略失效过程</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>保密模式</td>
</tr>
<tr>
<td><code>-S</code></td>
<td>累积模式</td>
</tr>
<tr>
<td><code>-n &lt;次数&gt;</code></td>
<td>循环显示的次数</td>
</tr>
<tr>
<td><code>-d &lt;时间&gt;</code></td>
<td>设置间隔时间</td>
</tr>
<tr>
<td><code>-U &lt;用户名&gt;</code></td>
<td>指定用户名</td>
</tr>
<tr>
<td><code>-p &lt;进程号&gt;</code></td>
<td>指定进程</td>
</tr>
</tbody>
</table>
<h3 id="交互命令"><a href="#交互命令" class="headerlink" title="交互命令"></a>交互命令</h3><blockquote>
<p>h 显示帮助画面，给出一些简短的命令总结说明<br>k 终止一个进程。<br>i 忽略闲置和僵死进程。这是一个开关式命令。<br>q 退出程序<br>r 重新安排一个进程的优先级别<br>S 切换到累计模式<br>s 改变两次刷新之间的延迟时间（单位为s）<br>f/F 从当前显示中添加或者删除项目<br>o/O 改变显示项目的顺序<br>l 切换显示平均负载和启动时间信息<br>m 切换显示内存信息<br>t 切换显示进程和CPU状态信息<br>c 切换显示命令名称和完整命令行<br>M 根据驻留内存大小进行排序<br>P 根据CPU使用百分比大小进行排序<br>T 根据时间/累计时间进行排序<br>W 将当前设置写入~/.toprc文件中</p>
</blockquote>
<h2 id="kill-lt-选项-gt-lt-进程号-gt"><a href="#kill-lt-选项-gt-lt-进程号-gt" class="headerlink" title="kill &lt;选项&gt; &lt;进程号&gt;"></a><code>kill &lt;选项&gt; &lt;进程号&gt;</code></h2><blockquote>
<p>杀死指定进程号的进程</p>
</blockquote>
<h3 id="参数-2"><a href="#参数-2" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-s &lt;信号&gt;</code></td>
<td>指定发送信号</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>显示信号列表</td>
</tr>
</tbody>
</table>
<h3 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h3><table>
<thead>
<tr>
<th>信号</th>
<th>ID</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>HUP</td>
<td>1</td>
<td>终端掉线</td>
</tr>
<tr>
<td>INT</td>
<td>2</td>
<td>中断</td>
</tr>
<tr>
<td>QUIT</td>
<td>3</td>
<td>退出</td>
</tr>
<tr>
<td>KILL</td>
<td>9</td>
<td>强制终止</td>
</tr>
<tr>
<td>TERM</td>
<td>15</td>
<td>终止</td>
</tr>
<tr>
<td>CONT</td>
<td>18</td>
<td>继续</td>
</tr>
<tr>
<td>STOP</td>
<td>19</td>
<td>暂停</td>
</tr>
</tbody>
</table>
<h2 id="killall-lt-选项-gt-lt-进程名-gt"><a href="#killall-lt-选项-gt-lt-进程名-gt" class="headerlink" title="killall &lt;选项&gt; &lt;进程名&gt;"></a><code>killall &lt;选项&gt; &lt;进程名&gt;</code></h2><blockquote>
<p>杀死指定进程 <strong>名称</strong> 的进程</p>
</blockquote>
<h3 id="参数-3"><a href="#参数-3" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-l</code></td>
<td>显示所有进程名</td>
</tr>
<tr>
<td><code>-s &lt;信号&gt;</code></td>
<td>发送信号</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>交互模式</td>
</tr>
<tr>
<td><code>-w</code></td>
<td>等待进程死亡</td>
</tr>
<tr>
<td><code>-q</code></td>
<td>不发出警告</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>报告信号发送是否成功</td>
</tr>
<tr>
<td><code>-g</code></td>
<td>杀死进程组</td>
</tr>
<tr>
<td><code>-u &lt;用户&gt;</code></td>
<td>杀死指定用户进程</td>
</tr>
<tr>
<td><code>-Z &lt;正则表达式&gt;</code></td>
<td>匹配正则</td>
</tr>
<tr>
<td><code>-e</code></td>
<td>对长名字严格匹配</td>
</tr>
<tr>
<td><code>-I</code></td>
<td>忽略大小写</td>
</tr>
</tbody>
</table>
<h2 id="nice-lt-选项-gt-lt-命令-gt"><a href="#nice-lt-选项-gt-lt-命令-gt" class="headerlink" title="nice &lt;选项&gt; &lt;命令&gt;"></a><code>nice &lt;选项&gt; &lt;命令&gt;</code></h2><blockquote>
<p>指定优先级，范围为 <code>-20~19</code>，越小越高<br><code>-n &lt;num&gt;</code> 赋予优先级，默认 <code>10</code></p>
</blockquote>
<h2 id="renice-lt-选项-gt"><a href="#renice-lt-选项-gt" class="headerlink" title="renice &lt;选项&gt;"></a><code>renice &lt;选项&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-u &lt;用户&gt;</code></td>
<td>指定名称</td>
</tr>
<tr>
<td><code>-n &lt;num&gt;</code></td>
<td>调整优先级</td>
</tr>
<tr>
<td><code>-p &lt;进程号&gt;</code></td>
<td>更改指定进程优先级</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/设备管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/设备管理/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:19" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:19+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="UUID"><a href="#UUID" class="headerlink" title="UUID"></a>UUID</h2><p>通用唯一识别码</p>
<ul>
<li>一组小写 <strong>十六进制</strong> 数字序列</li>
<li>由 <code>-</code> 分成<strong>五组</strong> ，<strong>32</strong> 个数字，<strong>128</strong>位</li>
<li><strong>8位数字</strong> + <code>3</code>组 <strong>4位数字</strong> + <strong>12位数字</strong><ul>
<li>当前日期和时间</li>
<li>时钟序列</li>
<li>全局唯一 <em>IEEE</em> 机器识别码</li>
</ul>
</li>
</ul>
<h3 id="查看-UUID"><a href="#查看-UUID" class="headerlink" title="查看 UUID"></a>查看 UUID</h3><ul>
<li><code>/dev/disk/by-uuid</code> 文件</li>
<li><code>blkid</code> 命令</li>
</ul>
<h2 id="etc-fstab-文件"><a href="#etc-fstab-文件" class="headerlink" title="/etc/fstab 文件"></a><code>/etc/fstab</code> 文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ /etc/fstab</span><br><span class="line">UUID=b830ab3b-c493-89ba-c0a9-c09a-8304baef890 / ext4    defaults    0   0</span><br></pre></td></tr></table></figure>
<ul>
<li>设备</li>
<li>挂载点</li>
<li>文件系统类型</li>
<li>挂载选项<ul>
<li>ro</li>
<li>rw</li>
<li>sync</li>
<li>async</li>
<li>defaults</li>
<li>owner</li>
</ul>
</li>
<li>转储选项</li>
<li>文件系统检查选项</li>
</ul>
<h2 id="fdisk-lt-选项-gt-lt-设备-gt"><a href="#fdisk-lt-选项-gt-lt-设备-gt" class="headerlink" title="fdisk &lt;选项&gt; &lt;设备&gt;"></a><code>fdisk &lt;选项&gt; &lt;设备&gt;</code></h2><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-l</code></td>
<td>列出指定磁盘分区表</td>
</tr>
<tr>
<td><code>-s &lt;分区&gt;</code></td>
<td>显示分区大小</td>
</tr>
</tbody>
</table>
<h3 id="交互命令"><a href="#交互命令" class="headerlink" title="交互命令"></a>交互命令</h3><h2 id="mkfs-lt-选项-gt-lt-设备-gt"><a href="#mkfs-lt-选项-gt-lt-设备-gt" class="headerlink" title="mkfs &lt;选项&gt; &lt;设备&gt;"></a><code>mkfs &lt;选项&gt; &lt;设备&gt;</code></h2><blockquote>
<p>创建文件系统，也可使用 <code>mkfs.ext4 / mkfs.vfat</code> 等命令</p>
</blockquote>
<h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-t</code></td>
<td>指定文件系统类型</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>显示详细信息</td>
</tr>
</tbody>
</table>
<h2 id="df-lt-选项-gt-lt-文件-gt"><a href="#df-lt-选项-gt-lt-文件-gt" class="headerlink" title="df &lt;选项&gt; &lt;文件&gt;"></a><code>df &lt;选项&gt; &lt;文件&gt;</code></h2><blockquote>
<p>显示文件系统信息</p>
</blockquote>
<h3 id="参数-2"><a href="#参数-2" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>显示所有文件系统</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>显示 <code>inode</code></td>
</tr>
<tr>
<td><code>-k</code></td>
<td>以 <code>KB</code> 为单位</td>
</tr>
<tr>
<td><code>-T</code></td>
<td>显示文件系统类型</td>
</tr>
<tr>
<td><code>-h</code></td>
<td>以可读的方式输出</td>
</tr>
<tr>
<td><code>-H</code></td>
<td>以 <code>1000</code> 为单位</td>
</tr>
</tbody>
</table>
<h2 id="mount-lt-选项-gt-lt-设备-gt-lt-目录-gt"><a href="#mount-lt-选项-gt-lt-设备-gt-lt-目录-gt" class="headerlink" title="mount &lt;选项&gt; &lt;设备&gt; &lt;目录&gt;"></a><code>mount &lt;选项&gt; &lt;设备&gt; &lt;目录&gt;</code></h2><blockquote>
<p>挂载目录</p>
</blockquote>
<h3 id="参数-3"><a href="#参数-3" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-t</code></td>
<td>指定文件系统类型</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>挂载所有</td>
</tr>
<tr>
<td><code>-o &lt;挂载选项&gt;</code></td>
<td>指定挂载选项</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>以只读方式挂载</td>
</tr>
<tr>
<td><code>-w</code></td>
<td>以读写方式挂载</td>
</tr>
<tr>
<td><code>-L &lt;Label&gt;</code></td>
<td>以卷标方式挂载</td>
</tr>
<tr>
<td><code>-U &lt;UUID&gt;</code></td>
<td>以 <code>UUID</code> 方式挂载</td>
</tr>
</tbody>
</table>
<h3 id="挂载选项"><a href="#挂载选项" class="headerlink" title="挂载选项"></a>挂载选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ro</code></td>
<td>只读</td>
</tr>
<tr>
<td><code>rw</code></td>
<td>读写</td>
</tr>
</tbody>
</table>
<h2 id="umount-lt-选项-gt-lt-设备-目录-gt"><a href="#umount-lt-选项-gt-lt-设备-目录-gt" class="headerlink" title="umount &lt;选项&gt; &lt;设备|目录&gt;"></a><code>umount &lt;选项&gt; &lt;设备|目录&gt;</code></h2><blockquote>
<p>卸载目录</p>
</blockquote>
<h3 id="参数-4"><a href="#参数-4" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>卸载所有文件系统</td>
</tr>
<tr>
<td>-n</td>
<td>卸载时不写入信息</td>
</tr>
<tr>
<td>-f</td>
<td>强制卸载</td>
</tr>
<tr>
<td>-r</td>
<td>若卸载失败，尝试以只读方式重新挂载</td>
</tr>
</tbody>
</table>
<h2 id="xfs-repair-lt-选项-gt-lt-设备-gt"><a href="#xfs-repair-lt-选项-gt-lt-设备-gt" class="headerlink" title="xfs_repair &lt;选项&gt; &lt;设备&gt;"></a><code>xfs_repair &lt;选项&gt; &lt;设备&gt;</code></h2><h3 id="参数-5"><a href="#参数-5" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-f</code></td>
<td>指定文件</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>只检查文件系统</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>输出详细信息</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>修复危险</td>
</tr>
</tbody>
</table>
<h2 id="逻辑卷"><a href="#逻辑卷" class="headerlink" title="逻辑卷"></a>逻辑卷</h2><blockquote>
<p>Logical Volume Manager，逻辑卷管理</p>
</blockquote>
<p>【TODO】</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/系统管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/系统管理/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:19" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:19+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="内核"><a href="#内核" class="headerlink" title="内核"></a>内核</h2><h3 id="内核组件"><a href="#内核组件" class="headerlink" title="内核组件"></a>内核组件</h3><ul>
<li>内核镜像文件</li>
<li>内核模块</li>
<li><code>initrd</code> 镜像文件</li>
</ul>
<h3 id="查看内核"><a href="#查看内核" class="headerlink" title="查看内核"></a>查看内核</h3><h4 id="lsmod"><a href="#lsmod" class="headerlink" title="lsmod"></a><code>lsmod</code></h4><blockquote>
<p>显示内核中模块的状态</p>
</blockquote>
<h4 id="lsmod-lt-选项-gt-lt-模块名-gt"><a href="#lsmod-lt-选项-gt-lt-模块名-gt" class="headerlink" title="lsmod &lt;选项&gt; &lt;模块名&gt;"></a><code>lsmod &lt;选项&gt; &lt;模块名&gt;</code></h4><blockquote>
<p>显示模块信息</p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>显示模块开发人员</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>显示模块描述</td>
</tr>
<tr>
<td><code>-p</code></td>
<td>显示模块支持的参数</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>显示模块版权声明</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>显示模块文件名</td>
</tr>
</tbody>
</table>
<h4 id="modprobe-lt-选项-gt-lt-模块名-gt"><a href="#modprobe-lt-选项-gt-lt-模块名-gt" class="headerlink" title="modprobe &lt;选项&gt; &lt;模块名&gt;"></a><code>modprobe &lt;选项&gt; &lt;模块名&gt;</code></h4><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-c</code></td>
<td>显示所有模块设置信息</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>使用排错模式</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>卸载模块</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>显示详细信息</td>
</tr>
</tbody>
</table>
<h2 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a><code>shutdown</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown &lt;choice&gt; &lt;time&gt; &lt;<span class="string">"message"</span>&gt;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>-k</code></td>
<td>不执行关机，发出警告</td>
</tr>
<tr>
<td> <code>-r</code></td>
<td>重新启动</td>
</tr>
<tr>
<td> <code>-h</code></td>
<td>关闭系统</td>
</tr>
<tr>
<td> <code>-c</code></td>
<td>取消关机</td>
</tr>
</tbody>
</table>
<h2 id="halt-reboot"><a href="#halt-reboot" class="headerlink" title="halt/reboot"></a><code>halt</code>/<code>reboot</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">halt</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>-w</code></td>
<td>不关闭，写入 <code>/varlog/wtmp</code> 文件</td>
</tr>
<tr>
<td> <code>-d</code></td>
<td>关闭，不写入文件</td>
</tr>
<tr>
<td> <code>-f</code></td>
<td>强制关闭</td>
</tr>
</tbody>
</table>
<h2 id="uname-lt-选项-gt"><a href="#uname-lt-选项-gt" class="headerlink" title="uname &lt;选项&gt;"></a><code>uname &lt;选项&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>显示全部信息</td>
</tr>
<tr>
<td><code>-m</code></td>
<td>显示计算机硬件结构名称</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>显示网络主机名称</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>显示操作系统内核发行号</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>显示操作系统名称</td>
</tr>
</tbody>
</table>
<h2 id="hostname-lt-名称-gt"><a href="#hostname-lt-名称-gt" class="headerlink" title="hostname &lt;名称&gt;"></a><code>hostname &lt;名称&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>显示主机别名</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>显示 IP 地址</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>显示 DNS 域名</td>
</tr>
<tr>
<td><code>-y</code></td>
<td>显示 NIS/YP 域名</td>
</tr>
<tr>
<td><code>-F&lt;文件&gt;</code></td>
<td>读取名称</td>
</tr>
</tbody>
</table>
<h2 id="cal-lt-选项-gt"><a href="#cal-lt-选项-gt" class="headerlink" title="cal &lt;选项&gt;"></a><code>cal &lt;选项&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-j</code></td>
<td>给定月的每一天是一年的第几天</td>
</tr>
<tr>
<td><code>-y</code></td>
<td>显示整年的日历</td>
</tr>
<tr>
<td><code>-m</code></td>
<td>以星期一为每周第一天的方式显示</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>以星期日为每周第一天的方式显示</td>
</tr>
<tr>
<td><code>-3</code></td>
<td>显示前一个月，本月，下个月的日历</td>
</tr>
</tbody>
</table>
<h2 id="date-lt-选项-gt-lt-格式-gt"><a href="#date-lt-选项-gt-lt-格式-gt" class="headerlink" title="date &lt;选项&gt; &lt;格式&gt;"></a><code>date &lt;选项&gt; &lt;格式&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-r&lt;文件&gt;</code></td>
<td>显示文件的最后修改时间</td>
</tr>
</tbody>
</table>
<h2 id="hwclock-lt-选项-gt"><a href="#hwclock-lt-选项-gt" class="headerlink" title="hwclock &lt;选项&gt;"></a><code>hwclock &lt;选项&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-r</code></td>
<td>读取并显示硬件时钟</td>
</tr>
<tr>
<td><code>-w</code></td>
<td>使用当前系统时间调整硬件时间</td>
</tr>
<tr>
<td><code>-u</code></td>
<td>把硬件时钟设置为 UTC</td>
</tr>
</tbody>
</table>
<h2 id="systemctl-lt-选项-gt-lt-命令-gt"><a href="#systemctl-lt-选项-gt-lt-命令-gt" class="headerlink" title="systemctl &lt;选项&gt; &lt;命令&gt;"></a><code>systemctl &lt;选项&gt; &lt;命令&gt;</code></h2><h3 id="系统命令"><a href="#系统命令" class="headerlink" title="系统命令"></a>系统命令</h3><table>
<thead>
<tr>
<th>系统命令</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>halt</code></td>
<td>关闭</td>
</tr>
<tr>
<td><code>poweroff</code></td>
<td>关闭并切断电源</td>
</tr>
<tr>
<td><code>reboot</code></td>
<td>重启</td>
</tr>
<tr>
<td><code>suspend</code></td>
<td>暂停</td>
</tr>
</tbody>
</table>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-r</code></td>
<td>显示主机和本地容器的单元列表</td>
</tr>
<tr>
<td><code>-q</code></td>
<td>抑制输出</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>显示所有加载的单元</td>
</tr>
<tr>
<td><code>-H &lt;主机&gt;</code></td>
<td>在远程主机操作</td>
</tr>
<tr>
<td><code>-t &lt;类型&gt;</code></td>
<td>列出特定类型单元</td>
</tr>
</tbody>
</table>
<h3 id="服务名令"><a href="#服务名令" class="headerlink" title="服务名令"></a>服务名令</h3><ul>
<li>start</li>
<li>stop</li>
<li>status</li>
<li>restart</li>
<li>try-restart</li>
<li>reload</li>
<li>isolate</li>
<li>kill</li>
<li>is-active</li>
<li>is-failed</li>
</ul>
<h2 id="free-lt-选项-gt"><a href="#free-lt-选项-gt" class="headerlink" title="free &lt;选项&gt;"></a><code>free &lt;选项&gt;</code></h2><blockquote>
<p>显示系统使用和空闲的内存情况，包括物理内存、交互区内存 <code>swap</code> 和内核缓冲区内存。共享内存将被忽略</p>
</blockquote>
<h3 id="选项-1"><a href="#选项-1" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-b</code></td>
<td>以Byte为单位显示内存使用情况</td>
</tr>
<tr>
<td><code>-k</code></td>
<td>以KB为单位显示内存使用情况 </td>
</tr>
<tr>
<td><code>-m</code></td>
<td>以MB为单位显示内存使用情况</td>
</tr>
<tr>
<td><code>-g</code></td>
<td>以GB为单位显示内存使用情况</td>
</tr>
<tr>
<td><code>-o</code></td>
<td>不显示缓冲区调节列</td>
</tr>
<tr>
<td><code>-s &lt;间隔秒数&gt;</code></td>
<td>持续观察内存使用状况</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>显示内存总和列</td>
</tr>
<tr>
<td><code>-V</code></td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/文件操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/文件操作/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:19" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:19+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="ls-lt-参数-gt-lt-目录-gt"><a href="#ls-lt-参数-gt-lt-目录-gt" class="headerlink" title="ls &lt;参数&gt; &lt;目录&gt;"></a><code>ls &lt;参数&gt; &lt;目录&gt;</code></h2><blockquote>
<p>列出目标目录中所有的子目录和文件</p>
</blockquote>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-a</code>    列出目录下的所有文件，包括 <strong>隐藏文件</strong><br><code>-d</code>    将目录像文件一样显示<br><code>-h</code>    以容易理解的格式列出文件大小 (如 24M 2G)<br><code>-l</code>    显示文件的权限、所有者、文件大小等详细信息<br><code>-i</code>    显示 inode<br><code>-F</code>    显示文件类型<br><code>-t</code>    以文件修改时间排序，-r从远到近<br><code>-X</code>    根据扩展名排序<br><code>-H</code>    使用命令列中的符号链接指示的真正目的地<br><code>-k</code>    即–block-size=1K,以 k 字节的形式表示文件的大小</p>
</blockquote>
<h2 id="stat-lt-参数-gt-lt-文件-目录-gt"><a href="#stat-lt-参数-gt-lt-文件-目录-gt" class="headerlink" title="stat &lt;参数&gt; &lt;文件|目录&gt;"></a><code>stat &lt;参数&gt; &lt;文件|目录&gt;</code></h2><blockquote>
<p>查看文件信息</p>
</blockquote>
<h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-L</code></td>
<td>跟踪链接</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>显示状态信息</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>简明形式</td>
</tr>
</tbody>
</table>
<h2 id="pwd-lt-参数-gt"><a href="#pwd-lt-参数-gt" class="headerlink" title="pwd &lt;参数&gt;"></a><code>pwd &lt;参数&gt;</code></h2><blockquote>
<p>显示当前工作目录绝对路径</p>
</blockquote>
<h3 id="参数-2"><a href="#参数-2" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-L</code></td>
<td>输出链接路径</td>
</tr>
<tr>
<td><code>-P</code></td>
<td>输出物理路径</td>
</tr>
</tbody>
</table>
<h2 id="cd-lt-目录-gt"><a href="#cd-lt-目录-gt" class="headerlink" title="cd &lt;目录&gt;"></a><code>cd &lt;目录&gt;</code></h2><blockquote>
<p>切换当前目录至dirName</p>
</blockquote>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cd /</span><br><span class="line">$ cd..    # 进入系统根目录</span><br><span class="line">$ cd ~    # 进入当前用户主目录</span><br><span class="line">$ cd –    # 返回进入此目录之前所在的目录</span><br><span class="line">$ cd ../..  # 返回上两级目录</span><br></pre></td></tr></table></figure>
<h2 id="cp-lt-参数-gt-lt-源-gt-lt-目的-gt"><a href="#cp-lt-参数-gt-lt-源-gt-lt-目的-gt" class="headerlink" title="cp &lt;参数&gt; &lt;源&gt; &lt;目的&gt;"></a><code>cp &lt;参数&gt; &lt;源&gt; &lt;目的&gt;</code></h2><blockquote>
<p>将源文件复制至目标文件或将多个源文件复制至目标目录。</p>
</blockquote>
<h3 id="参数-3"><a href="#参数-3" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>all</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>覆盖前询问</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>链接文件而不复制</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>不要覆盖已存在的文件</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>复制目录及目录内的所有项目</td>
</tr>
</tbody>
</table>
<h2 id="rm-lt-参数-gt-lt-文件-gt"><a href="#rm-lt-参数-gt-lt-文件-gt" class="headerlink" title="rm &lt;参数&gt; &lt;文件&gt;"></a><code>rm &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>删除一个目录中的一个或多个文件或目录</p>
</blockquote>
<h3 id="参数-4"><a href="#参数-4" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-f</code> 忽略不存在的文件，从不给出提示<br><code>-i</code> 交互式删除<br><code>-r</code> 列出的全部目录和子目录均 <strong>递归</strong> 删除<br><code>-v</code> 详细显示进行的步骤</p>
</blockquote>
<h2 id="rmdir-lt-参数-gt-lt-目录-gt"><a href="#rmdir-lt-参数-gt-lt-目录-gt" class="headerlink" title="rmdir &lt;参数&gt; &lt;目录&gt;"></a><code>rmdir &lt;参数&gt; &lt;目录&gt;</code></h2><blockquote>
<p>该命令从一个目录中删除一个或多个子目录项，删除某目录时也必须具有对父目录的写权限</p>
</blockquote>
<h3 id="参数-5"><a href="#参数-5" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-p</code> 递归删除目录dirname，当子目录删除后其父目录为空时，也一同被删除<br><code>-v</code> 显示指令执行过程</p>
</blockquote>
<h2 id="mkdir-lt-参数-gt-lt-目录-gt"><a href="#mkdir-lt-参数-gt-lt-目录-gt" class="headerlink" title="mkdir &lt;参数&gt; &lt;目录&gt;"></a><code>mkdir &lt;参数&gt; &lt;目录&gt;</code></h2><blockquote>
<p>在指定位置创建以 <code>目录</code> 命名的文件夹或目录</p>
</blockquote>
<h3 id="参数-6"><a href="#参数-6" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-m</code> 设定权限&lt;模式&gt; (类似 chmod)<br><code>-p</code> 可以是一个路径名称，即一次可以建立多个尚不存在的目录<br><code>-v</code> 每次创建新目录都</p>
</blockquote>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><ul>
<li><p>创建权限为777的目录</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -m 777 test3</span><br></pre></td></tr></table></figure>
</li>
<li><p>一个命令创建项目的目录结构</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -vp scf/&#123;lib/,doc/&#123;info,product&#125;,logs/&#123;info,product&#125;,service&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="touch-lt-参数-gt-lt-文件-gt"><a href="#touch-lt-参数-gt-lt-文件-gt" class="headerlink" title="touch &lt;参数&gt; &lt;文件&gt;"></a><code>touch &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>更改文档或目录的日期时间，包括存取时间和更改时间</p>
</blockquote>
<h3 id="参数-7"><a href="#参数-7" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-a</code>  只更改访问时间<br><code>-m</code>  只更改修改时间<br><code>-c</code>  不建立任何文档<br><code>-d</code>  使用字符串<br><code>-t &lt;time&gt;</code>  指定时间<br><code>-r</code><file1> <file2>  把 <code>&lt;file1&gt;</code> 的时间，设成和 <code>&lt;file2&gt;</code> 相同的时间</file2></file1></p>
</blockquote>
<h2 id="ln-lt-参数-gt-lt-文件1-gt-lt-文件2-gt"><a href="#ln-lt-参数-gt-lt-文件1-gt-lt-文件2-gt" class="headerlink" title="ln &lt;参数&gt; &lt;文件1&gt; &lt;文件2&gt;"></a><code>ln &lt;参数&gt; &lt;文件1&gt; &lt;文件2&gt;</code></h2><blockquote>
<p>创建链接</p>
</blockquote>
<h3 id="参数-8"><a href="#参数-8" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-i</code></td>
<td>交互</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>创建符号链接</td>
</tr>
<tr>
<td><code>-L</code></td>
<td>将硬链接创建为符号链接引用</td>
</tr>
<tr>
<td><code>-T</code></td>
<td>将链接文件当做普通文件</td>
</tr>
</tbody>
</table>
<h2 id="which-lt-可执行文件名称-gt"><a href="#which-lt-可执行文件名称-gt" class="headerlink" title="which &lt;可执行文件名称&gt;"></a><code>which &lt;可执行文件名称&gt;</code></h2><blockquote>
<p>在PATH变量指定的路径中，搜索某个 <strong>系统命令</strong> 的位置，并且返回第一个搜索结果</p>
</blockquote>
<h3 id="参数-9"><a href="#参数-9" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p>-n 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名<br>-p 　与-n参数相同，但此处的包括了文件的路径</p>
</blockquote>
<h2 id="find-lt-路径-gt-lt-参数-gt"><a href="#find-lt-路径-gt-lt-参数-gt" class="headerlink" title="find &lt;路径&gt; &lt;参数&gt;"></a><code>find &lt;路径&gt; &lt;参数&gt;</code></h2><blockquote>
<p>用于在文件树种查找文件，并作出相应的处理</p>
</blockquote>
<h3 id="参数-10"><a href="#参数-10" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p><code>-name</code>       按照文件名查找文件<br><code>-perm</code>       按照文件权限来查找文件<br><code>-user</code>       按照文件属主来查找文件<br><code>-group</code>      按照文件所属的组来查找文件<br><code>-nogroup</code>    查找无有效所属组的文件<br><code>-nouser</code>     查找无有效所属主的文件<br><code>-depth</code>      在查找文件时，首先查找当前目录中的文件，然后再&gt; 在其子目录中查找<br><code>-follow</code>     如果find命令遇到符号链接文件，就跟踪至链接所&gt; 指向的文件<br><code>-newer file1 ! file2</code>  查找更改时间比文件file1新但比文件&gt; file2旧的文件<br><code>-type</code>  查找某一类型的文件<br><code>-mtime -n +n</code>  按照文件的更改时间来查找文件</p>
<ul>
<li>-n表示文件更改时间距现在n天以内</li>
<li>+n表示文件更改时间距现在n天以前</li>
</ul>
</blockquote>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><blockquote>
<p>-amin n   查找系统中最后N分钟访问的文件<br>-atime n  查找系统中最后n<em>24小时访问的文件<br>-cmin n   查找系统中最后N分钟被改变文件状态的文件<br>-ctime n  查找系统中最后n</em>24小时被改变文件状态的文件<br>-mmin n   查找系统中最后N分钟被改变文件数据的文件<br>-mtime n  查找系统中最后n*24小时被改变文件数据的文件</p>
</blockquote>
<h2 id="whereis-lt-参数-gt-lt-文件-gt"><a href="#whereis-lt-参数-gt-lt-文件-gt" class="headerlink" title="whereis &lt;参数&gt; &lt;文件&gt;"></a><code>whereis &lt;参数&gt; &lt;文件&gt;</code></h2><h3 id="参数-11"><a href="#参数-11" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-b</code></td>
<td>只搜索二进制文件</td>
</tr>
<tr>
<td><code>-m</code></td>
<td>只搜索 man 手册</td>
</tr>
<tr>
<td><code>-u</code></td>
<td>搜索不常见记录</td>
</tr>
</tbody>
</table>
<h2 id="nl-lt-参数-gt-lt-文件-gt"><a href="#nl-lt-参数-gt-lt-文件-gt" class="headerlink" title="nl &lt;参数&gt; &lt;文件&gt;"></a><code>nl &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>计将输出的文件内容自动的加上行号</p>
</blockquote>
<h3 id="参数-12"><a href="#参数-12" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p>-b  指定行号指定的方式<br>    -b a    不论是否为空行，也同样列出行号<br>    -b t    如果有空行，空的那一行不要列出行号(默认值)<br>-n  列出行号表示的方法<br>    -n ln   行号在屏幕的最左方显示<br>    -n rn   行号在自己栏位的最右方显示，且不加 0<br>    -n rz   行号在自己栏位的最右方显示，且加 0<br>-w  行号栏位的占用的位数<br>-p  在逻辑定界符处不重新开始计算</p>
</blockquote>
<h2 id="more-lt-参数-gt-lt-文件-gt"><a href="#more-lt-参数-gt-lt-文件-gt" class="headerlink" title="more &lt;参数&gt; &lt;文件&gt;"></a><code>more &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>分页阅读，在启动时就加载 <strong>整个文件</strong></p>
</blockquote>
<h3 id="参数-13"><a href="#参数-13" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p>+n      从笫n行开始显示<br>-n       定义屏幕大小为n行<br>+/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示<br>-c      从顶部 <strong>清屏</strong>，然后显示<br>-p      通过清除窗口而不是滚屏来对文件进行换页,与-c选项相似<br>-s      把连续的多个空行显示为一行<br>-u      把文件内容中的下画线去掉</p>
</blockquote>
<h3 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h3><table>
<thead>
<tr>
<th>按键</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Enter</code></td>
<td>向下n行，默认1行</td>
</tr>
<tr>
<td><code>Ctrl+F</code>、<code>Space</code></td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td><code>Ctrl+B</code></td>
<td>返回上一屏</td>
</tr>
<tr>
<td><code>d</code></td>
<td>向下移动半页</td>
</tr>
<tr>
<td><code>b</code></td>
<td>向上移动一页</td>
</tr>
<tr>
<td><code>Ctrl+l</code></td>
<td>刷新屏幕</td>
</tr>
<tr>
<td><code>=</code></td>
<td>输出当前行的行号</td>
</tr>
<tr>
<td><code>:f</code></td>
<td>输出文件名和当前行的行号</td>
</tr>
<tr>
<td><code>!命令</code></td>
<td>调用Shell，并执行命令 </td>
</tr>
<tr>
<td><code>q</code></td>
<td>退出more</td>
</tr>
</tbody>
</table>
<h2 id="less-lt-参数-gt-lt-文件-gt"><a href="#less-lt-参数-gt-lt-文件-gt" class="headerlink" title="less &lt;参数&gt; &lt;文件&gt;"></a><code>less &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>可以随意浏览文件，在查看之前 <strong>不会加载</strong> 整个文件</p>
</blockquote>
<h3 id="参数-14"><a href="#参数-14" class="headerlink" title="参数"></a>参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-e  当文件显示结束后，自动离开</span><br><span class="line">-f  强迫打开特殊文件，例如外围设备代号、目录和二进制文件</span><br><span class="line">-g  只标志最后搜索的关键词</span><br><span class="line">-i  忽略搜索时的大小写</span><br><span class="line">-m  显示类似more命令的百分比</span><br><span class="line">-N  显示每行的行号</span><br><span class="line">-Q  不使用警告音</span><br><span class="line">-s  显示连续空行为一行</span><br><span class="line">-S  行过长时间将超出部分舍弃</span><br><span class="line">-o &lt;文件名&gt; 将less 输出的内容在指定文件中保存起来</span><br><span class="line">-b &lt;缓冲区大小&gt; 设置缓冲区的大小</span><br><span class="line">-x &lt;数字&gt; 将“tab”键显示为规定的数字空格</span><br><span class="line">/字符串：向下搜索“字符串”的功能</span><br><span class="line">?字符串：向上搜索“字符串”的功能</span><br><span class="line">n：重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">N：反向重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">b  向后翻一页</span><br><span class="line">d  向后翻半页</span><br><span class="line">h  显示帮助界面</span><br><span class="line">Q  退出less 命令</span><br><span class="line">u  向前滚动半页</span><br><span class="line">y  向前滚动一行</span><br><span class="line">空格键 滚动一行</span><br><span class="line">回车键 滚动一页</span><br><span class="line">pagedown： 向下翻动一页</span><br><span class="line">pageup：   向上翻动一页</span><br></pre></td></tr></table></figure>
<h3 id="操作命令-1"><a href="#操作命令-1" class="headerlink" title="操作命令"></a>操作命令</h3><h4 id="全屏导航"><a href="#全屏导航" class="headerlink" title="全屏导航"></a>全屏导航</h4><pre><code>ctrl + F    向前移动一屏
ctrl + B    向后移动一屏
ctrl + D    向前移动半屏
ctrl + U    向后移动半屏
</code></pre><h4 id="单行导航"><a href="#单行导航" class="headerlink" title="单行导航"></a>单行导航</h4><pre><code>j   向前移动一行
k   向后移动一行
</code></pre><h4 id="其它导航"><a href="#其它导航" class="headerlink" title="其它导航"></a>其它导航</h4><pre><code>G     移动到最后一行
g     移动到第一行
q/ZZ  退出 less 命令
n/p   浏览多个文件，后/前一个
</code></pre><h4 id="标记导航"><a href="#标记导航" class="headerlink" title="标记导航"></a>标记导航</h4><pre><code>ma  使用 a 标记文本的当前位置
&apos;a  导航到标记 a 处
</code></pre><h2 id="tail-lt-参数-gt-lt-文件-gt"><a href="#tail-lt-参数-gt-lt-文件-gt" class="headerlink" title="tail &lt;参数&gt; &lt;文件&gt;"></a><code>tail &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>用于显示指定文件末尾内容，不指定文件时，作为输入信息进行处理。常用查看日志文件</p>
</blockquote>
<blockquote>
<p>tac 反向列示</p>
</blockquote>
<h3 id="参数-15"><a href="#参数-15" class="headerlink" title="参数"></a>参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-f 循环读取</span><br><span class="line">-q 不显示处理信息</span><br><span class="line">-v 显示详细的处理信息</span><br><span class="line">-c &lt;数目&gt; 显示的字节数</span><br><span class="line">-n &lt;行数&gt; 显示行数</span><br><span class="line">-s 与-f合用,表示在每次反复的间隔休眠S秒</span><br><span class="line">--pid=PID 与-f合用,表示在进程ID,PID死掉之后结束</span><br></pre></td></tr></table></figure>
<h2 id="cat-lt-选项-gt-lt-文件-gt"><a href="#cat-lt-选项-gt-lt-文件-gt" class="headerlink" title="cat &lt;选项&gt; &lt;文件&gt;"></a><code>cat &lt;选项&gt; &lt;文件&gt;</code></h2><blockquote>
<p>连接文件或标准输入并打印</p>
<ul>
<li>一次显示整个文件</li>
<li>从键盘创建一个文件:cat &gt; filename</li>
<li>将几个文件合并为一个文件</li>
</ul>
</blockquote>
<h3 id="参数-16"><a href="#参数-16" class="headerlink" title="参数"></a>参数</h3><blockquote>
<p>-n  对输出的所有行 <strong>编号</strong><br>-b  对 <strong>非空</strong> 输出行编号<br>-s  连续两行以上的 <strong>空白行</strong> 代换为一行<br>-E  在每行结束处显示 $<br>-T  将跳格字符显示为 ^I</p>
</blockquote>
<h2 id="file-lt-参数-gt-lt-文件-gt"><a href="#file-lt-参数-gt-lt-文件-gt" class="headerlink" title="file &lt;参数&gt; &lt;文件&gt;"></a><code>file &lt;参数&gt; &lt;文件&gt;</code></h2><blockquote>
<p>查询文件类型</p>
</blockquote>
<h3 id="参数-17"><a href="#参数-17" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-v</code></td>
<td>显示版本信息</td>
</tr>
<tr>
<td><code>-z</code></td>
<td>探测压缩后的文件类型</td>
</tr>
<tr>
<td><code>-L</code></td>
<td>允许符号链接</td>
</tr>
<tr>
<td><code>-b</code></td>
<td>列出辨识结果，不显示文件名</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>显示 MIME 类型</td>
</tr>
</tbody>
</table>
<h2 id="grep-lt-选项-gt-lt-模式-gt-lt-文件-gt"><a href="#grep-lt-选项-gt-lt-模式-gt-lt-文件-gt" class="headerlink" title="grep &lt;选项&gt; &lt;模式&gt; &lt;文件&gt;"></a><code>grep &lt;选项&gt; &lt;模式&gt; &lt;文件&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-i</code></td>
<td>忽略大小写</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>显示匹配的文件名</td>
</tr>
<tr>
<td><code>-L</code></td>
<td>显示不匹配的文件名</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>加上匹配字符串所在行号</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>只显示不包含字符串的行</td>
</tr>
<tr>
<td><code>-e&lt;模式&gt;</code></td>
<td>用模式匹配</td>
</tr>
<tr>
<td><code>-f&lt;文件&gt;</code></td>
<td>从文件匹配模式</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>递归读取</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/打包压缩/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/打包压缩/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:19" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:19+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="tar-lt-参数-gt-lt-文件-gt"><a href="#tar-lt-参数-gt-lt-文件-gt" class="headerlink" title="tar &lt;参数&gt; &lt;文件&gt;"></a><code>tar &lt;参数&gt; &lt;文件&gt;</code></h2><ul>
<li><code>tar</code>本身不具有压缩功能。他是调用压缩功能实现的 </li>
<li><code>tar</code> 包文件的命令通常都是以 <code>.tar</code> 结尾的。生成 <code>tar</code> 包后，就可以用其它的程序来进行压缩</li>
</ul>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-A</code></td>
<td>新增压缩文件到已存在的压缩</td>
</tr>
<tr>
<td><code>-B</code></td>
<td>设置区块 <strong>大小</strong></td>
</tr>
<tr>
<td><code>-b</code></td>
<td>设置区块 <strong>数目</strong></td>
</tr>
<tr>
<td><code>-C</code></td>
<td>解压到 <strong>指定目录</strong></td>
</tr>
<tr>
<td><code>-c</code></td>
<td><strong>建立</strong> 新的压缩文件</td>
</tr>
<tr>
<td><code>-f</code></td>
<td><strong>使用</strong> 归档文件或设备</td>
</tr>
<tr>
<td><code>-x</code></td>
<td><strong>释放</strong>压缩文件</td>
</tr>
<tr>
<td><code>-r --append</code></td>
<td><strong>追加</strong> 文件</td>
</tr>
<tr>
<td><code>-v --verbose</code></td>
<td>显示 <strong>操作过程</strong></td>
</tr>
<tr>
<td><code>-d</code></td>
<td>记录文件的差别</td>
</tr>
<tr>
<td><code>-u</code></td>
<td>添加改变了和现有的文件到已经存在的压缩文件</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>显示压缩文件的内容</td>
</tr>
<tr>
<td><code>-z</code></td>
<td>支持gzip解压文件</td>
</tr>
<tr>
<td><code>-j --bip2</code></td>
<td>支持bzip2解压文件</td>
</tr>
<tr>
<td><code>-J --xz</code></td>
<td>支持xz压缩</td>
</tr>
<tr>
<td><code>-Z</code></td>
<td>支持compress解压文件</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>文件系统边界设置</td>
</tr>
<tr>
<td><code>-k</code></td>
<td>保留原有文件不覆盖</td>
</tr>
<tr>
<td><code>-m</code></td>
<td>保留文件不被覆盖</td>
</tr>
<tr>
<td><code>-W</code></td>
<td>确认压缩文件的正确性</td>
</tr>
<tr>
<td><code>--delete</code></td>
<td>从归档文件删除</td>
</tr>
</tbody>
</table>
<h2 id="gzip-lt-参数-gt-lt-文件-gt"><a href="#gzip-lt-参数-gt-lt-文件-gt" class="headerlink" title="gzip &lt;参数&gt; &lt;文件&gt;"></a><code>gzip &lt;参数&gt; &lt;文件&gt;</code></h2><ul>
<li><code>gzip</code> 命令对文本文件有60%～70%的压缩率</li>
</ul>
<h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>使用ASCII文字模式</td>
</tr>
<tr>
<td><code>-c</code></td>
<td>输出到标准输出设备，不去更动原始文件</td>
</tr>
<tr>
<td><code>-d</code></td>
<td><strong>解压缩</strong></td>
</tr>
<tr>
<td><code>-f</code></td>
<td>强行压缩文件</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>列出压缩文件的相关信息</td>
</tr>
<tr>
<td><code>-L</code></td>
<td>显示版本与版权信息</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>压缩文件时，不保存原来的文件名称及时间戳记</td>
</tr>
<tr>
<td><code>-N</code></td>
<td>压缩文件时，保存原来的文件名称及时间戳记</td>
</tr>
<tr>
<td><code>-q</code></td>
<td>不显示警告信息</td>
</tr>
<tr>
<td><code>-r</code></td>
<td><strong>递归处理</strong></td>
</tr>
<tr>
<td><code>-t</code></td>
<td>测试压缩文件是否正确无误</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>显示指令执行过程</td>
</tr>
<tr>
<td><code>-num</code></td>
<td>指定 <em>num</em> 调整压缩的速度。默认 <code>6</code></td>
</tr>
<tr>
<td><code>-1 --fast</code></td>
<td>最快压缩方法（低压缩比）</td>
</tr>
<tr>
<td><code>-9 --best</code></td>
<td>最慢压缩方法（高压缩比）</td>
</tr>
</tbody>
</table>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ gzip *        # 把目录下的每个文件压缩成 .gz 文件</span><br><span class="line">$ gzip -dv *    # 把每个压缩的文件解压，并列出详细的信息</span><br><span class="line">$ gzip -l *     # 详细显示例1中每个压缩的文件的信息，并不解压</span><br></pre></td></tr></table></figure>
<h2 id="dd-lt-选项-gt"><a href="#dd-lt-选项-gt" class="headerlink" title="dd &lt;选项&gt;"></a><code>dd &lt;选项&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>if=&lt;文件&gt;</code></td>
<td>从指定文件读取</td>
</tr>
<tr>
<td><code>of=&lt;文件&gt;</code></td>
<td>写入到指定文件</td>
</tr>
<tr>
<td><code>ibs=&lt;比特数&gt;</code></td>
<td>一次读取的比特数，默认 <em>512B</em></td>
</tr>
<tr>
<td><code>obs=&lt;比特数&gt;</code></td>
<td>一次写入的比特数，默认 <em>512B</em></td>
</tr>
</tbody>
</table>
<h2 id="备份系统"><a href="#备份系统" class="headerlink" title="备份系统"></a>备份系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar cvpzf backup.tgz –exclude=/proc –exclude=/lost+found –exclude=/backup.tgz –exclude=/mnt –exclude=/sys /</span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>获取 <code>root</code> 权限，进入文件系统的根目录</li>
<li><code>cvpfz</code> 创建档案文件、保持权限(保留所有东西原来的权限)、使用 <em>gzip</em> 来减小文件尺寸</li>
<li><code>backup.gz</code> 得到的档案文件的文件名</li>
<li><code>/</code> 要备份的目录，在这里是整个文件系统</li>
<li>在档案文件名 <code>backup.gz</code> 和要备份的目录名 <code>/</code> 之间给出了备份时必须排除在外的目录<code></code>–exclude=`</li>
<li><code>backup.gz</code> 这个档案文件本身必须排除在外。备份结束时可能会有提示：<code>tar: Error exit delayed from previous errors</code> 多数情况下可以忽略</li>
</ul>
<h2 id="恢复系统"><a href="#恢复系统" class="headerlink" title="恢复系统"></a>恢复系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar xvpfz backup.tgz -C /</span><br></pre></td></tr></table></figure>
<blockquote>
<p>切换到root<br>重新创建备份时被排除在外的目录<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir proc lost+found  mnt sys</span><br></pre></td></tr></table></figure></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/任务计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/任务计划/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:18" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:18+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="cron"><a href="#cron" class="headerlink" title="cron"></a><code>cron</code></h2><blockquote>
<p>修改 <code>/etc/crontab</code> 和使用 <code>crontab</code> 命令</p>
</blockquote>
<h3 id="etc-crontab"><a href="#etc-crontab" class="headerlink" title="/etc/crontab"></a><code>/etc/crontab</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">30 21 * * * root /root/backup.sh</span><br><span class="line">min h d mon day_week user cmd</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>分钟</li>
<li>小时</li>
<li>日期</li>
<li>月份</li>
<li>星期</li>
<li>用户名</li>
<li>命令</li>
</ul>
</blockquote>
<h3 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a><code>crontab</code></h3><h2 id="at"><a href="#at" class="headerlink" title="at"></a><code>at</code></h2><h2 id="anacron"><a href="#anacron" class="headerlink" title="anacron"></a><code>anacron</code></h2><h2 id="init-d"><a href="#init-d" class="headerlink" title="init.d"></a><code>init.d</code></h2><ol>
<li>将启动脚本复制到 /etc/init.d目录下</li>
<li><p>设置脚本文件的权限</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 755 /etc/init.d/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将脚本放到启动脚本中：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /etc/init.d</span><br><span class="line">$ update-rc.d test defaults 95  # 其中数字95是脚本启动的顺序号，按照需要相应修改即可。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该命令的输出信息参考如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d: warning: /etc/init.d/test missing LSB information</span><br><span class="line">update-rc.d: see &lt;http://wiki.debian.org/LSBInitScripts&gt;</span><br><span class="line">Adding system startup for /etc/init.d/test</span><br><span class="line">...</span><br><span class="line">/etc/rc0.d/K95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc1.d/K95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc6.d/K95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc2.d/S95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc3.d/S95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc4.d/S95test -&gt; ../init.d/test</span><br><span class="line">/etc/rc5.d/S95test -&gt; ../init.d/test</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>卸载启动脚本的方法</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /etc/init.d</span><br><span class="line">$ sudo update-rc.d -f test remove</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：假定使用的是Bash作为登录及注销的主Shell。如果使用的是其他Shell，那么有些方法可能会无效。</p>
</blockquote>
</li>
</ol>
<h2 id="etc-rc-d-rc-local"><a href="#etc-rc-d-rc-local" class="headerlink" title="/etc/rc.d/rc.local"></a><code>/etc/rc.d/rc.local</code></h2><ol>
<li><p>授予/etc/rc.d/rc.local文件执行权限：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后在这个文件底部添加脚本</p>
</li>
<li><p>两个示例脚本（/home/gacanepa/script1.sh 和 /home/gacanepa/script2.sh）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># script1.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">DATE=$(date +&apos;%F %H:%M:%S&apos;)</span><br><span class="line">DIR=/home/gacanepa</span><br><span class="line">echo &quot;Current date and time: $DATE&quot; &gt; $DIR/file1.txt</span><br><span class="line"></span><br><span class="line"># script2.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">SITE=&quot;Tecmint.com&quot;</span><br><span class="line">DIR=/home/gacanepa</span><br><span class="line">echo &quot;$SITE rocks... add us to your bookmarks.&quot; &gt; $DIR/file2.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>授予执行权限</p>
</li>
<li>要在登录或注销时执行脚本，分别需要使用<code>~/.bash_profile</code> 和 <code>~/.bash_logout</code> 文件。多数情况下，后者需要手动创建。在每个文件的底部，添加调用脚本代码</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://palmcivet.github.io/2019/02/Linux 网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Palm Civet">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Palm Civet">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/Linux 网络/" class="post-title-link" itemprop="url">Untitled</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 22:16:18" itemprop="dateCreated datePublished" datetime="2019-02-21T22:16:18+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-10 13:26:03" itemprop="dateModified" datetime="2019-03-10T13:26:03+08:00">2019-03-10</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[toc]</p>
<h2 id="ping-lt-选项-gt-lt-地址-gt"><a href="#ping-lt-选项-gt-lt-地址-gt" class="headerlink" title="ping &lt;选项&gt; &lt;地址&gt;"></a><code>ping &lt;选项&gt; &lt;地址&gt;</code></h2><h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-d</code></td>
<td>使用Socket的SO_DEBUG功能</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>极限检测大量且快速地送网络封包给一台机器</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>只输出数值</td>
</tr>
<tr>
<td><code>-q</code></td>
<td>不显示任何传送封包的信息，只显示最后的结果</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>忽略普通的 <code>Routing Table</code>，直接将数据包送到远端主机</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>记录路由过程</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>详细显示指令的执行过程</td>
</tr>
<tr>
<td><code>-c &lt;数目&gt;</code></td>
<td>在发送指定数目的包后停止</td>
</tr>
<tr>
<td><code>-i &lt;秒数&gt;</code></td>
<td>设定间隔几秒送一个网络封包给一台机器，预设值是一秒送一次</td>
</tr>
<tr>
<td><code>-I &lt;网络界面&gt;</code></td>
<td>使用指定的网络界面送出数据包</td>
</tr>
<tr>
<td><code>-l &lt;前置载入&gt;</code></td>
<td>设置在送出要求信息之前，先行发出的数据包</td>
</tr>
<tr>
<td><code>-p &lt;范本样式&gt;</code></td>
<td>设置填满数据包的范本样式</td>
</tr>
<tr>
<td><code>-s &lt;字节数&gt;</code></td>
<td>指定发送的数据字节数，预设值是 _56_，加上 _8_ 字节的ICMP头，一共是 _64_ <em>ICMP</em> 数据字节</td>
</tr>
<tr>
<td><code>-t &lt;存活数值&gt;</code></td>
<td>设置存活数值 <em>TTL</em> 的大小</td>
</tr>
</tbody>
</table>
<h2 id="traceroute-lt-选项-gt-lt-地址-gt-lt-数据包大小-gt"><a href="#traceroute-lt-选项-gt-lt-地址-gt-lt-数据包大小-gt" class="headerlink" title="traceroute &lt;选项&gt; &lt;地址&gt; &lt;数据包大小&gt;"></a><code>traceroute &lt;选项&gt; &lt;地址&gt; &lt;数据包大小&gt;</code></h2><blockquote>
<p>显示数据包到目标主机的路径</p>
</blockquote>
<h3 id="选项-1"><a href="#选项-1" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-d</code></td>
<td>使用 <em>Socket</em> 层级的调试功能</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>设置第一个检测数据包的存活数值TTL的大小</td>
</tr>
<tr>
<td><code>-F</code></td>
<td>不分段数据包</td>
</tr>
<tr>
<td><code>-g &lt;网关&gt;</code></td>
<td>设置来源路由网关，最多可设置8个</td>
</tr>
<tr>
<td><code>-i &lt;接口&gt;</code></td>
<td>使用指定的网络界面送出数据包</td>
</tr>
<tr>
<td><code>-m &lt;最大 TTL&gt;</code></td>
<td>设置检测数据包的最大存活数值TTL的大小</td>
</tr>
<tr>
<td><code>-p &lt;端口&gt;</code></td>
<td>设置UDP传输协议的通信端口</td>
</tr>
<tr>
<td><code>-I</code></td>
<td>使用ICMP回应取代UDP资料信息</td>
</tr>
<tr>
<td><code>-N &lt;次数&gt;</code></td>
<td>设置同时要尝试探测的次数，默认16</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>直接使用IP地址而非主机名称</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>忽略普通的Routing Table，直接将数据包送到远端主机上</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>设置本地主机送出数据包的IP地址</td>
</tr>
<tr>
<td><code>-U</code></td>
<td>使用 UDP 特定端口进行跟踪</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>设置检测数据包的TOS数值</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>详细显示指令的执行过程</td>
</tr>
<tr>
<td><code>-w</code></td>
<td>设置等待远端主机回报的时间</td>
</tr>
<tr>
<td><code>-x</code></td>
<td>开启或关闭数据包的正确性检验</td>
</tr>
</tbody>
</table>
<h2 id="netstat-lt-选项-gt-lt-延迟-gt"><a href="#netstat-lt-选项-gt-lt-延迟-gt" class="headerlink" title="netstat &lt;选项&gt; &lt;延迟&gt;"></a><code>netstat &lt;选项&gt; &lt;延迟&gt;</code></h2><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a --all</code></td>
<td>显示所有连线中的 <em>Socket</em></td>
</tr>
<tr>
<td><code>-A &lt;网络类型&gt;</code></td>
<td>列出该网络类型连线中的相关地址</td>
</tr>
<tr>
<td><code>-c --continuous</code></td>
<td>持续列出网络状态</td>
</tr>
<tr>
<td><code>-C --cache</code></td>
<td>显示路由器配置的快取信息</td>
</tr>
<tr>
<td><code>-e --extend</code></td>
<td>显示网络其他相关信息</td>
</tr>
<tr>
<td><code>-F --fib</code></td>
<td>显示 <em>FIB</em></td>
</tr>
<tr>
<td>`-g –groups</td>
<td>`</td>
<td>显示多重广播功能群组组员名单</td>
</tr>
<tr>
<td>`-h –help</td>
<td>`</td>
<td>在线帮助</td>
</tr>
<tr>
<td>`-i –interfaces</td>
<td>`</td>
<td>显示网络界面信息表单</td>
</tr>
<tr>
<td>`-l –listening</td>
<td>`</td>
<td>显示监控中的服务器的 <em>Socket</em></td>
</tr>
<tr>
<td>`-M –masquerade</td>
<td>`</td>
<td>显示伪装的网络连线</td>
</tr>
<tr>
<td><code>-n --numeric</code></td>
<td>直接使用 _IP_ 地址，而不通过域名服务器</td>
</tr>
<tr>
<td><code>-N --netlink --symbolic</code></td>
<td>显示网络硬件外围设备的符号连接名称</td>
</tr>
<tr>
<td><code>-o --timers</code></td>
<td>显示计时器</td>
</tr>
<tr>
<td><code>-p --programs</code></td>
<td>显示正在使用 <em>Socket</em> 的程序识别码和程序名称</td>
</tr>
<tr>
<td><code>-r --route</code></td>
<td>显示 <em>Routing Table</em></td>
</tr>
<tr>
<td><code>-s --statistice</code></td>
<td>显示网络工作信息统计表</td>
</tr>
<tr>
<td><code>-t --tcp</code></td>
<td>显示TCP传输协议的连线状况</td>
</tr>
<tr>
<td><code>-u --udp</code></td>
<td>显示UDP传输协议的连线状况</td>
</tr>
<tr>
<td><code>-v --verbose</code></td>
<td>显示指令执行过程</td>
</tr>
<tr>
<td><code>-V --version</code></td>
<td>显示版本信息</td>
</tr>
<tr>
<td><code>-w --raw</code></td>
<td>显示RAW传输协议的连线状况</td>
</tr>
<tr>
<td><code>-x --unix</code></td>
<td>同 <code>-A unix</code></td>
</tr>
<tr>
<td><code>–ip --inet</code></td>
<td>同 <code>-A inet</code></td>
</tr>
</tbody>
</table>
<h2 id="arp-lt-选项-gt-lt-IP地址-gt-lt-MAC地址-gt"><a href="#arp-lt-选项-gt-lt-IP地址-gt-lt-MAC地址-gt" class="headerlink" title="arp &lt;选项&gt; &lt;IP地址&gt; &lt;MAC地址&gt;"></a><code>arp &lt;选项&gt; &lt;IP地址&gt; &lt;MAC地址&gt;</code></h2><blockquote>
<p>增删、显示 <code>ARP</code> 条目</p>
</blockquote>
<h3 id="选项-2"><a href="#选项-2" class="headerlink" title="选项"></a>选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a</code></td>
<td>显示指定主机当期阿所有 <em>ARP</em> 缓存</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>删除指定条目</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>设置一个新的 <em>ARP</em> 条目</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>不显示名称</td>
</tr>
<tr>
<td><code>-v</code></td>
<td>显示详细信息</td>
</tr>
<tr>
<td><code>-i &lt;接口&gt;</code></td>
<td>指定网络接口</td>
</tr>
</tbody>
</table>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="统计网络性能"><a href="#统计网络性能" class="headerlink" title="统计网络性能"></a>统计网络性能</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">link show &lt;eth&gt;</span><br></pre></td></tr></table></figure>
<h3 id="查看网卡信息"><a href="#查看网卡信息" class="headerlink" title="查看网卡信息"></a>查看网卡信息</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection show</span><br></pre></td></tr></table></figure>
<h3 id="查看接口属性"><a href="#查看接口属性" class="headerlink" title="查看接口属性"></a>查看接口属性</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool &lt;eth&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Palm Civet</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Palm Civet</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
